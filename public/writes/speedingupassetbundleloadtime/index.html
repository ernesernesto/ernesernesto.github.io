<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">Speeding Up Asset Bundle Load Time | ernesernesto io</title>
<meta property="og:title" content="Speeding Up Asset Bundle Load Time | ernesernesto io" />
<meta name="twitter:title" content="Speeding Up Asset Bundle Load Time | ernesernesto io" />
<meta itemprop="name" content="Speeding Up Asset Bundle Load Time | ernesernesto io" />
<meta name="application-name" content="Speeding Up Asset Bundle Load Time | ernesernesto io" />
<meta property="og:site_name" content="ernesernesto.github.io" />

<meta name="description" content="ernesernesto dev blog">
<meta itemprop="description" content="ernesernesto dev blog" />
<meta property="og:description" content="ernesernesto dev blog" />
<meta name="twitter:description" content="ernesernesto dev blog" />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />

  <link rel="alternate" hreflang="en-us" href="http://localhost:1313/writes/speedingupassetbundleloadtime/" title="English" />



  <meta itemprop="image" content="http://localhost:1313/" />
  <meta property="og:image" content="http://localhost:1313/" />
  <meta name="twitter:image" content="http://localhost:1313/" />
  <meta name="twitter:image:src" content="http://localhost:1313/" />





<meta name="generator" content="Hugo 0.124.0">

    

    <link rel="canonical" href="http://localhost:1313/writes/speedingupassetbundleloadtime/">
    <link href="/style.min.9bd04d0fad85388343088ec85e9afd787ea003e72914d7f57df39c17ab2e7173.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="http://localhost:1313/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    </head>
<body data-theme = "dark" class="notransition">

<script src="/js/theme.js"></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="http://localhost:1313/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        Home
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/pages/reads/">
                        Reads
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/writes/">
                        Writes
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/pages/executes/">
                        Executes
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/pages/info/">
                        Info
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">Speeding Up Asset Bundle Load Time</h1>
                
                
                <div class="post-meta">
                    <time datetime="2023-10-18T09:00:23&#43;07:00" itemprop="datePublished"> Oct 18, 2023 </time>
                </div>
                
            </header><div class="page-content">
                <h2 id="tldr">TLDR</h2>
<ul>
<li>Use Async API <code>AssetBundle.LoadFromFileAsync</code></li>
<li>Change AssetBundle <code>BuildAssetBundleOptions</code> into <code>ChunkBasedCompression</code>, optionally use <code>DisableLoadAssetByFileName</code> and <code>DisableLoadAssetByFileNameWithExtension</code>.</li>
<li>Adjust Unity Quality Settings <code>QualitySettings.asyncUploadTimeSlice</code> and <code>QualitySettings.asyncUploadBufferSize</code></li>
</ul>
<h2 id="checking-how-things-done">Checking how things done</h2>
<p>In out recent games, we have some issues when loading a lot of Unity Asset Bundles at runtime on the loading screen. It took a couple of seconds for all bundles to finish loading. A bit weird since it&rsquo;s just 10~ish bundle with total contents of ~100mb, it should be done instantly with an iPhone 11 device (Hexa-core 2x2.65 GHz, 4GB Ram, NVME storage).</p>
<p>Asset bundle loading code generally looks like this</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl"><span class="n">AssetBundle</span> <span class="n">bundle</span> <span class="p">=</span> <span class="n">AssetBundle</span><span class="p">.</span><span class="n">LoadFromFile</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">bundle</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Do things related to bundle contents</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>At first I tried changing it into the async version of Loading API</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">AssetBundleCreateRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="n">AssetBundle</span><span class="p">.</span><span class="n">LoadFromFileAsync</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">yield</span> <span class="k">return</span> <span class="n">request</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">AssetBundle</span> <span class="n">bundle</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="n">assetBundle</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">bundle</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Do things related to bundle contents</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>But from my timings, there are nothing that significantly changed timing wise for loading time.</p>
<p>After digging deeper into Unity docs, there are some flags that might be useful to increase the asset bundle load time, related to how the asset bundles s being <a href="https://docs.unity3d.com/ScriptReference/BuildAssetBundleOptions.html">build</a>. I&rsquo;ve been using <code>BuildAssetBundleOptions.None</code> and according to docs it build with LZMA compression and requires entire bundle to be decompressed before being used, making load times slower. Changing the build options into <code>ChunkBasedCompression</code> LZ4 results in larger bundle files, but the loading speed is twice faster!. This options is the best tradeoff for speed and size of asset bundles.</p>
<h2 id="jobs-done">Jobs done</h2>
<p>Now at this point, we could pat our back and say that the jobs done, but is there anything else that could be improved?</p>
<p>Looking at the build options again, there are some options that could potentially help reducing the load time more, <code>DisableLoadAssetByFileName</code> and <code>DisableLoadAssetByFileNameWithExtension</code>.</p>
<p>Whenever an asset bundles is build, there are three ways to look up asset, full asset path, asset file name, and asset file name with extension, for example &ldquo;Assets/Prefabs/Player.prefab&rdquo;, &ldquo;Player&rdquo;, and &ldquo;Player.prefab&rdquo;. Those options will disable the asset name lookup table, saving runtime memory and loading performance.</p>
<p>Since all call that goes to load the assets through the asset bundle is using</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl"><span class="n">Sprite</span> <span class="n">sprite</span> <span class="p">=</span> <span class="n">bundle</span><span class="p">.</span><span class="n">LoadAsset</span><span class="p">&lt;</span><span class="n">Sprite</span><span class="p">&gt;(</span><span class="s">&#34;Player.prefab&#34;</span><span class="p">);</span>
</span></span></code></pre></div><p>I can only use DisableLoadAssetByFileName, using DisableLoadAssetByFileNameWithExtension means I must go into each load asset call and fix the loading code into using the full path, which means a lot more work to do. Will take this in mind for the next game, but need to justify whether the effort and results beats the easiness of the API.</p>
<h2 id="but-wait-theres-more">But wait there&rsquo;s more!</h2>
<p>Before we can change a few more knobs and buttons on unity to speed up things, we need to understand how Unity package things and load those data at runtime, those things are explained in detail <a href="https://blog.unity.com/engine-platform/understanding-the-async-upload-pipeline">here</a>, but basically, you need to change the buffer size and time slice of when unity does the texture/mesh upload to GPU, if you have a lot of textures and meshes on the asset bundles, this will surely help out. You need to tweak <code>QualitySettings.asyncUploadTimeSlice</code> and <code>QualitySettings.asyncUploadBufferSize</code>, both are in Unity Quality Settings window. The former will adjust the time spent when uploading texture/mesh data on each frme, while the later would adjust the temporary ring buffer size used to upload those data. Generally for larger textures you need larger buffer, tweak and test those values in order to maximize your game loading time.</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/ernesernesto" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="https://twitter.com/ernesernesto" target="_blank" rel="noopener noreferrer me"
    title="Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
</a>
<a href="index.xml" target="_blank" rel="noopener noreferrer me"
    title="Rss">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
</a>
</div>
    <small class="footer_copyright">
        © 2025 .
        Powered by <a href="https://github.com/hugo-sid/hugo-blog-awesome" target="_blank" rel="noopener">Hugo blog awesome</a>.
    </small>
</footer><a href="#" title="Go to top" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    




    
    
        
    

    
    
        
    



    
    <script async src="http://localhost:1313/js/main.js" ></script>

    

</body>
</html>
